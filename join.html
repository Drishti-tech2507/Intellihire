<script>
const scheduled = JSON.parse(localStorage.getItem("interviewSchedule"));

if (scheduled) {
  const container = document.getElementById("joinMeetingContainer");
  const info = document.getElementById("meetingInfo");

  info.textContent = `Role: ${scheduled.role} | Date: ${scheduled.date} | Time: ${scheduled.time}`;
  container.style.display = "block";
}

function joinMeeting() {
  const joinButton = document.querySelector("#joinMeetingContainer .btn");
  const confirmationMessage = document.getElementById("confirmationMessage");

  const scheduledDateTime = new Date(`${scheduled.date}T${scheduled.time}:00`);
  const currentDateTime = new Date();

  if (currentDateTime >= scheduledDateTime) {
    // Allowed to join
    joinButton.style.display = "none";
    confirmationMessage.style.display = "block";

    // ✅ Instead of moving to interview.html, stay on dashboard
    setTimeout(() => {
      confirmationMessage.style.display = "none";
      joinButton.style.display = "block"; // Show button again if needed
    }, 4000); // 4 seconds delay (adjust as you want)
    
  } else {
    // Not allowed yet
    alert("You will be allowed to join at your respective time slot only.");
    // ✅ Stay on dashboard
  }
}
</script>


